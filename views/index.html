<div class="main_body" id="main_body">
    <div class="breadcrub">
        当前位置：文章管理>文章列表
    </div>
    <div class="pannel">
        <span class="sel_label">请选择文章分类：</span>
        <form action="/article/showArticleList" id="selectForm">
            <select name="select" id="select" class="sel_opt">
                <!-- `.`表示当前上下文, `$.`表示根上下文 -->
                <!-- 自定义视图函数
                    {{range .types}}
                        <option {{showSelected $.selected .TypeName}}>{{.TypeName}}</option>
                    {{end}}
                -->

                <!-- 使用beego封装的视图函数 -->
                {{range .types}}
                    {{if compare .TypeName $.selected}}
                        <option selected="selected">{{.TypeName}}</option>
                    {{else}}
                        <option>{{.TypeName}}</option>
                    {{end}}
                {{end}}
            </select>
        </form>

        <table class="common_table">
            <tr>
                <th width="43%">文章标题</th>
                <th width="10%">文章内容</th>
                <th width="16%">添加时间</th>
                <th width="7%">阅读量</th>
                <th width="7%">删除</th>
                <th width="7%">编辑</th>
                <th width="10%">文章类型</th>
            </tr>
            {{range $key, $val := .articles}}
                <tr>
                    <td>{{$val.ArtiName}}</td>
                    <td><a href="/article/showArticleDetail?articleId={{$val.Id}}">查看详情</a></td>
                    <td>{{$val.Atime.Format "2006-01-02 15:04:05"}}</td>
                    <td>{{$val.Acount}}</td>
                    <td><a href="/article/deleteArticle?articleId={{$val.Id}}" class="dels">删除</a></td>
                    <td><a href="/article/updateArticle?articleId={{$val.Id}}">编辑</a></td>
                    <td>{{$val.ArticleType.TypeName}}</td>
                </tr>
            {{end}}
        </table>

        <ul class="pagenation">
            <!-- url传值 -->
            <li><a href="/article/showArticleList?page=1&select={{.selected}}">首页</a></li>
            <li><a href="/article/showArticleList?page={{.page | prePage}}&select={{.selected}}">上一页 </a> </li>
            <li> <a href="/article/showArticleList?page={{nextPage .page .pageCount}}&select={{.selected}}">下一页</a></li>
            <li><a href="/article/showArticleList?page={{.pageCount}}&select={{.selected}}">末页</a></li>
            <li>共{{.count}}条记录/共{{.pageCount}}页/当前{{.page}}页</li>
        </ul>
    </div>
</div>